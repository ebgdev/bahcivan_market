{% extends 'base.html'%}
{% load static %}
{% block content%}

<!-- ========================= DYNAMIC BANNER CAROUSEL ========================= -->
<section class="hero-banner">
<div class="container-fluid p-0">
    <div id="heroBannerCarousel" class="carousel slide" data-ride="carousel" data-interval="5000">
        {% if banners %}
        <ol class="carousel-indicators">
            {% for banner in banners %}
            <li data-target="#heroBannerCarousel" data-slide-to="{{ forloop.counter0 }}" {% if forloop.first %}class="active"{% endif %}></li>
            {% endfor %}
        </ol>
        <div class="carousel-inner">
            {% for banner in banners %}
            <div class="carousel-item {% if forloop.first %}active{% endif %}">
                <a href="{{ banner.get_link_url }}" class="banner-link">
                    <div class="banner-slide" style="background: url('{{ banner.image.url }}') center/cover;">
                        <div class="banner-content">
                            <div class="container">
                                <div class="row align-items-center" style="min-height: 600px;">
                                    <div class="col-lg-6">
                                        {% if banner.title %}
                                        <h1 class="banner-title">{{ banner.title }}</h1>
                                        {% endif %}
                                        {% if banner.link_type == 'category' and banner.category %}
                                        <p class="banner-subtitle">{{ banner.category.description|default:"Kategorimizdeki t√ºm √ºr√ºnleri ke≈üfedin." }}</p>
                                        <div class="banner-buttons">
                                            <a href="{{ banner.get_link_url }}" class="btn btn-light btn-lg">
                                                <i class="fa fa-eye"></i> {{ banner.category.category_name }} Kategorisini G√∂r√ºnt√ºle
                                            </a>
                                        </div>
                                        {% elif banner.link_type == 'product' and banner.product %}
                                        <p class="banner-subtitle">{{ banner.product.product_description|default:"Bu √ºr√ºn√º hemen inceleyin!" }}</p>
                                        <div class="banner-buttons">
                                            <a href="{{ banner.get_link_url }}" class="btn btn-light btn-lg">
                                                <i class="fa fa-shopping-cart"></i> {{ banner.product.product_name }} - {{ banner.product.price }}TL
                                            </a>
                                        </div>
                                        {% else %}
                                        <div class="banner-buttons">
                                            <a href="{{ banner.get_link_url }}" class="btn btn-light btn-lg">
                                                <i class="fa fa-arrow-right"></i> Daha Fazla Bilgi
                                            </a>
                                        </div>
                                        {% endif %}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </a>
            </div>
            {% endfor %}
        </div>

        <!-- Carousel Controls -->
        <a class="carousel-control-prev" href="#heroBannerCarousel" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">√ñnceki</span>
        </a>
        <a class="carousel-control-next" href="#heroBannerCarousel" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Sonraki</span>
        </a>
        {% else %}
        <!-- Default banner if no banners in database -->
        <div class="carousel-inner">
            <div class="carousel-item active">
                <div class="banner-slide" style="background: url('{% static 'images/banners/1.jpg' %}') center/cover;">
                    <div class="banner-content">
                        <div class="container">
                            <div class="row align-items-center" style="min-height: 600px;">
                                <div class="col-lg-6">
                                    <h1 class="banner-title">üåø Doƒüal Bitkisel √úr√ºnler</h1>
                                    <p class="banner-subtitle">Saƒülƒ±klƒ± ya≈üamƒ±n anahtarƒ± doƒüal √ºr√ºnlerde. Bah√ßƒ±van Market'te en kaliteli bitkisel √ºr√ºnleri ke≈üfedin.</p>
                                    <div class="banner-buttons">
                                        <a href="{% url 'store' %}" class="btn btn-light btn-lg me-3">
                                            <i class="fa fa-leaf"></i> √úr√ºnleri Ke≈üfet
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        {% endif %}
    </div>
</div>
</section>
<!-- ========================= DYNAMIC BANNER CAROUSEL END ========================= -->

<!-- ========================= FEATURED PRODUCTS SECTION ========================= -->
<section id="featured-products" class="section-name padding-y-lg" style="background: linear-gradient(135deg, #f8fbf8, #ffffff);">
<div class="container">

<header class="section-heading text-center mb-5">
	<h2 class="section-title" style="color: #2d7c47; font-weight: 700; margin-bottom: 1rem;">
		<i class="fa fa-star text-warning"></i> Pop√ºler Bitkisel √úr√ºnler
	</h2>
	<p class="text-muted mb-4">En √ßok tercih edilen doƒüal √ºr√ºnlerimizi ke≈üfedin</p>
	<a href="{% url 'store' %}" class="btn btn-primary btn-lg">
		<i class="fa fa-leaf"></i> T√ºm√ºn√º G√∂r√ºnt√ºle
	</a>
</header><!-- sect-heading -->

	
<div class="row">
	{% for product in products %}
	<div class="col-md-3">
		<div class="card card-product-grid">
			<a href="{{ product.get_url }}" class="img-wrap"> <img src="{{product.image.url}}"> </a>
			<figcaption class="info-wrap">
				<a href="{{ product.get_url }}" class="title">{{ product.product_name }}</a>
				<div class="price mt-1">{{ product.price }}TL</div> <!-- price-wrap.// -->
			</figcaption>
		</div>
	</div>
	{% endfor %}
</div> <!-- row.// -->

</div><!-- container // -->
</section>
<!-- ========================= SECTION  END// ========================= -->



</body>
</html>

{% endblock %}